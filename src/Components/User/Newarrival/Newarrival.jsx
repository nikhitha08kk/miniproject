// import React from 'react'
// import './Newarrival.css'
// import Header from '../Header/Header'
// import Navbar from '../Header/Navbar'
// import Footer from '../Footerl/Footer'

// function Newarrival() {
    
//   return (
//   <div>
//     <Header/><Navbar/>
//     <div className=' new-title'><h1>NEW ARRIVALS</h1></div>
//     <div className='container arrival'>
//         <div  className='product-card'>
//            <div className='product-image'> <img className="pro-img " alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/Mont_Blanc_Explorer_A.jpg?v=1622741743&width=540'></img></div> 
//             <div className='product-info'>
//               <div className='product-title'>MONT BLANC LEGEND NIGHT EAU DE PARFUM</div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'><del>Rs. 7,550</del> priceRs.  6,550 </div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//           <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/Davidoff_Coolwater_Intense_EDP_For_Men_125ml_408eaebd-181f-4b79-b6da-2ac94f38f8d9.jpg?v=1599652957&width=540'></img></div> 
//           <div className='product-info'>
//               <div className='product-title'>DAVIDOFF COOL WATER EAU DE TOILETTE</div>
//               <div className='product-description'>FOR MEN EDT 100ML</div>
//               <div className='product-price'><del>Rs. 4,800</del> priceRs.  3,840</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//           <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/dunhilllondoniconeliteedp.jpg?v=1627718763&width=540'></img></div>
//           <div className='product-info'>
//               <div className='product-title'>DUNHILL ICON ELITE EAU DE PARFUM</div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'><del>Rs. 8,300</del> priceRs.  6,250</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//          <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/MBLegendNightA.jpg?v=1626279219&width=540'></img></div> 
//          <div className='product-info'>
//               <div className='product-title'>MONT BLANC LEGEND NIGHT EAU DE PARFUM </div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'><del>Rs. 7,550</del>  priceRs. 6,550</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//     </div>
//     <div className='container arrival2'>
//         <div className='product-card'>
//         <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/VersaceErosEDPforMen100ml.jpg?v=1629019116&width=540'></img></div> 
//         <div className='product-info'>
//               <div className='product-title'>VERSACE EROS EAU DE TOILETTE</div>
//               <div className='product-description'>FOR MEN</div>
//               <div className='product-price'><del>Rs. 9,600</del>  priceRs. 7,500</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//         <div className='product-image'>  <img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/MontBlancLegendEauDeParfumForMen.jpg?v=1639131864&width=540'></img></div>
//         <div className='product-info'>
//               <div className='product-title'>MONT BLANC LEGEND NIGHT EAU DE PARFUM</div>
//               <div className='product-description'>FOR MEN</div>
//               <div className='product-price'><del>Rs. 7,550</del>  priceRs. 6,550</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//         <div className='product-image'>  <img className="pro-img " alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/MontBlancLegendSpirit.jpg?v=1622741867&width=540'></img></div>
//         <div className='product-info'>
//               <div className='product-title'>MONT BLANC LEGEND SPIRIT EAU DE TOILETTE</div>
//               <div className='product-description'>FOR MEN</div>
//               <div className='product-price'><del>Rs. 7,350</del> priceRs. 5,850 </div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//         <div className='product-image'> <img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/VersaceCrystalNoirEaudeParfumForWomen90ML.jpg?v=1650874791&width=540'></img></div> 
//         <div className='product-info'>
//               <div className='product-title'>VERSACE CRYSTAL NOIR EAU DE PARFUM</div>
//               <div className='product-description'>FOR WOMEN 90ML</div>
//               <div className='product-price'><del>Rs. 9,600</del>  priceRs. 8,000</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//     </div>
//     <div className='container arrival3'>
//         <div className='product-card'>
//         <div className='product-image'>  <img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/TommyNowMenA.jpg?v=1631371357&width=540'></img></div>
//         <div className='product-info'>
//               <div className='product-title'>TOMMY HILFIGER TOMMY NOW EAU DE TOILETTE</div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'>Rs. 3,400</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'> 
//          <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/MontBlancLegendEauDeParfumForMen.jpg?v=1639131864&width=540'></img></div> 
//          <div className='product-info'>
//               <div className='product-title'>MONT BLANC LEGEND EAU DE PARFUM</div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'><del>Rs. 7,350</del> priceRs. 5,850 </div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//          <div className='product-image'><img className="pro-img " alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/Mr.BurberryElementEDTForMen.jpg?v=1630661193&width=540'></img></div> 
//          <div className='product-info'>
//               <div className='product-title'>MR.BURBERRY ELEMENT EAU DE TOILETTE </div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'>Rs. 6,300</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'>
//         <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/JohnVarvatosartisanPure.jpg?v=1687348219&width=540'></img></div>  
//         <div className='product-info'>
//               <div className='product-title'>JOHN VARVATOS ARTISAN PURE EDT</div>
//               <div className='product-description'>125ML</div>
//               <div className='product-price'><del>Rs. 8,000 </del> priceRs. 5,650 </div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//     </div> <div className='container arrival4'>
//         <div className='product-card'> 
//         <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/files/AzzaroTheMostWantedParfumForMenA.jpg?v=1689752281&width=540'></img></div>
//         <div className='product-info'>
//               <div className='product-title'>AZZARO THE MOST WANTED PARFUM</div>
//               <div className='product-description'>FOR MEN</div>
//               <div className='product-price'>Rs. 8,200</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card'> 
//         <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/files/PacoRabanne1MillionelixirIntenseParfumForMen.jpg?v=1687345725&width=540'></img></div>
//         <div className='product-info'>
//               <div className='product-title'>PACO RABANNE 1 MILLION ELIXIR INTENSE PARFUM </div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'><del>Rs. 9,250</del>  priceRs. 8,850</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card' >
//           <div className='product-image'><img className="pro-img "  alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/MontBlancExplorerUltraBlueEauDeParfumForMenD.jpg?v=1657968457&width=540'></img></div>
//           <div className='product-info'>
//               <div className='product-title'>MONT BLANC EXPLORER ULTRA BLUE EAU DE PARFUM</div>
//               <div className='product-description'>FOR MEN 100ML</div>
//               <div className='product-price'><del>Rs. 8,300</del> priceRs. 7,050</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//         <div className='product-card' >
//           <div className='product-image'><img className="pro-img "   alt='pro'src='https://www.perfume24x7.com/cdn/shop/products/Untitled-1-33.jpg?v=1621511735&width=540'></img></div>
//           <div className='product-info'>
//               <div className='product-title'>BVLGARI ROSE GOLDEA BLOSSOM DELIGHT EAU DE PARFUM </div>
//               <div className='product-description'> FOR WOMEN 75ML</div>
//               <div className='product-price'><del>Rs. 10,950</del> priceRs. 8,450</div>
//               <button className='product-button'>Add Cart</button>
//            </div>
//         </div>
//     </div>
//     <Footer/>
//   </div>
    
//   )
// }

// export default Newarrival

import React, { useState, useEffect } from 'react';
import { newArrival } from '../../../Services/Userapi';
import ProductCard from './ProductCard';

function NewArrival() {
  const [products, setProducts] = useState([]);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchProducts = async () => {
      try {
        const data = await newArrival();
        console.log('Fetched data:', data);

        if (Array.isArray(data)) {
          setProducts(data);
        } else {
          console.error('Data format error: Expected an array, but got:', data);
          throw new Error('Data format error: Expected an array');
        }
      } catch (err) {
        setError('Failed to fetch products. Please try again later.');
        console.error('Error fetching products:', err);
      }
    };

    fetchProducts();
  }, []);

  return (
    <div className="shop">
      {error ? (
        <div className="error-message">{error}</div>
      ) : (
        <div className="product-list">
          {products.map((product) => (
            <ProductCard key={product._id} product={product} />
          ))}
        </div>
      )}
    </div>
  );
}

export default NewArrival;
